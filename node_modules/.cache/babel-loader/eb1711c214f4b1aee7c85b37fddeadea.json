{"ast":null,"code":"var _jsxFileName = \"/home/deathsmell/WebstormProjects/i-note-common/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Note from \"./components/Note\";\n\nconst App = () => {\n  const localKey = index => `position-note-${index}`;\n\n  const saveInLocal = (index, x, y) => localStorage.setItem(localKey(index), JSON.stringify({\n    x,\n    y\n  }));\n\n  const getFromLocal = index => localStorage.getItem(localKey(index));\n\n  const [state, setState] = useState([{\n    width: 200,\n    height: 200,\n    x: 0,\n    y: 0\n  }, {\n    width: 200,\n    height: 200,\n    x: 0,\n    y: 0\n  }]);\n  useEffect(() => {\n    setState(state.map((note, index) => {\n      const fromLocal = getFromLocal(index);\n      if (fromLocal) return { ...note,\n        ...JSON.parse(fromLocal)\n      };else return note;\n    }));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"aqua\",\n      width: \"100vw\",\n      height: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, state.map((note, index) => {\n    return /*#__PURE__*/React.createElement(Note, {\n      key: index,\n      index: index,\n      state: state,\n      setState: setState,\n      saveInLocal: saveInLocal,\n      getFromLocal: getFromLocal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 29\n      }\n    });\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/home/deathsmell/WebstormProjects/i-note-common/src/App.js"],"names":["React","useEffect","useState","Note","App","localKey","index","saveInLocal","x","y","localStorage","setItem","JSON","stringify","getFromLocal","getItem","state","setState","width","height","map","note","fromLocal","parse","backgroundColor"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAEd,QAAMC,QAAQ,GAAIC,KAAD,IAAY,iBAAgBA,KAAM,EAAnD;;AACA,QAAMC,WAAW,GAAG,CAACD,KAAD,EAAQE,CAAR,EAAWC,CAAX,KAChBC,YAAY,CAACC,OAAb,CAAqBN,QAAQ,CAACC,KAAD,CAA7B,EAAsCM,IAAI,CAACC,SAAL,CAAe;AAACL,IAAAA,CAAD;AAAIC,IAAAA;AAAJ,GAAf,CAAtC,CADJ;;AAGA,QAAMK,YAAY,GAAIR,KAAD,IAAWI,YAAY,CAACK,OAAb,CAAqBV,QAAQ,CAACC,KAAD,CAA7B,CAAhC;;AAEA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBf,QAAQ,CAAC,CAC/B;AACIgB,IAAAA,KAAK,EAAE,GADX;AAEIC,IAAAA,MAAM,EAAE,GAFZ;AAGIX,IAAAA,CAAC,EAAE,CAHP;AAIIC,IAAAA,CAAC,EAAE;AAJP,GAD+B,EAO/B;AACIS,IAAAA,KAAK,EAAE,GADX;AAEIC,IAAAA,MAAM,EAAE,GAFZ;AAGIX,IAAAA,CAAC,EAAE,CAHP;AAIIC,IAAAA,CAAC,EAAE;AAJP,GAP+B,CAAD,CAAlC;AAeAR,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,QAAQ,CAACD,KAAK,CAACI,GAAN,CAAU,CAACC,IAAD,EAAOf,KAAP,KAAiB;AAChC,YAAMgB,SAAS,GAAGR,YAAY,CAACR,KAAD,CAA9B;AACA,UAAIgB,SAAJ,EACI,OAAO,EAAC,GAAGD,IAAJ;AAAU,WAAGT,IAAI,CAACW,KAAL,CAAWD,SAAX;AAAb,OAAP,CADJ,KAGI,OAAOD,IAAP;AACP,KANQ,CAAD,CAAR;AAOH,GARQ,EAQN,EARM,CAAT;AAUA,sBACI;AAAK,IAAA,KAAK,EAAE;AAACG,MAAAA,eAAe,EAAE,MAAlB;AAA0BN,MAAAA,KAAK,EAAE,OAAjC;AAA0CC,MAAAA,MAAM,EAAE;AAAlD,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQH,KAAK,CAACI,GAAN,CAAU,CAACC,IAAD,EAAOf,KAAP,KAAiB;AACnB,wBACI,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,KAAX;AACM,MAAA,KAAK,EAAEA,KADb;AAEM,MAAA,KAAK,EAAEU,KAFb;AAGM,MAAA,QAAQ,EAAEC,QAHhB;AAIM,MAAA,WAAW,EAAEV,WAJnB;AAKM,MAAA,YAAY,EAAEO,YALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AASH,GAVL,CAFR,CADJ;AAkBH,CAnDD;;AAsDA,eAAeV,GAAf","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport Note from \"./components/Note\";\n\nconst App = () => {\n\n    const localKey = (index) => `position-note-${index}`;\n    const saveInLocal = (index, x, y) =>\n        localStorage.setItem(localKey(index), JSON.stringify({x, y}))\n\n    const getFromLocal = (index) => localStorage.getItem(localKey(index))\n\n    const [state, setState] = useState([\n        {\n            width: 200,\n            height: 200,\n            x: 0,\n            y: 0\n        },\n        {\n            width: 200,\n            height: 200,\n            x: 0,\n            y: 0\n        }\n    ]);\n\n    useEffect(() => {\n        setState(state.map((note, index) => {\n            const fromLocal = getFromLocal(index);\n            if (fromLocal)\n                return {...note, ...JSON.parse(fromLocal)}\n            else\n                return note\n        }))\n    }, [])\n\n    return (\n        <div style={{backgroundColor: \"aqua\", width: \"100vw\", height: '100vh'}}>\n            {\n                state.map((note, index) => {\n                        return (\n                            <Note key={index}\n                                  index={index}\n                                  state={state}\n                                  setState={setState}\n                                  saveInLocal={saveInLocal}\n                                  getFromLocal={getFromLocal}\n                            />\n                        )\n                    }\n                )\n            }\n        </div>\n    )\n}\n\n\nexport default App"]},"metadata":{},"sourceType":"module"}