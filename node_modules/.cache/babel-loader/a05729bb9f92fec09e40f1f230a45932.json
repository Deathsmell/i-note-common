{"ast":null,"code":"var _jsxFileName = \"/home/deathsmell/WebstormProjects/i-note-common/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Note from \"./components/Note\";\n\nconst App = () => {\n  const [state, setState] = useState([{\n    width: 200,\n    height: 200,\n    x: 0,\n    y: 0\n  }, {\n    width: 200,\n    height: 200,\n    x: 0,\n    y: 0\n  }]);\n\n  const localKey = index => `position-note-${index}`;\n\n  const saveInLocal = (index, note) => localStorage.setItem(localKey(index), JSON.stringify(note));\n\n  const getFromLocal = index => localStorage.getItem(localKey(index)); // const removeInLocal = (index) =>\n  //     localStorage.removeItem(localKey(index))\n\n\n  useEffect(() => {\n    setState(state.map((note, index) => {\n      const fromLocal = getFromLocal(index);\n      if (fromLocal) return { ...JSON.parse(fromLocal)\n      };else return note;\n    }));\n  }, []);\n  const webSocket = new WebSocket('ws://localhost:8080');\n\n  const testHandler = () => {\n    webSocket.onopen = ev => {\n      console.log('open', ev.data);\n    };\n\n    webSocket.onmessage = ev => {\n      console.log(\"message\", ev.data);\n    };\n  };\n\n  const send = () => {\n    webSocket.send(\"Some string\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: testHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Click me\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-secondary\",\n    onClick: send,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Click me\")) // <div style={{backgroundColor: \"aqua\", width: \"100vw\", height: '100vh'}}>\n  //     {\n  //         state.map((note, index) => {\n  //                 return (\n  //                     <Note key={index}\n  //                           index={index}\n  //                           state={state}\n  //                           setState={setState}\n  //                           saveInLocal={saveInLocal}\n  //                           getFromLocal={getFromLocal}\n  //                     />\n  //                 )\n  //             }\n  //         )\n  //     }\n  // </div>\n  ;\n};\n\nexport default App;","map":{"version":3,"sources":["/home/deathsmell/WebstormProjects/i-note-common/src/App.js"],"names":["React","useEffect","useState","Note","App","state","setState","width","height","x","y","localKey","index","saveInLocal","note","localStorage","setItem","JSON","stringify","getFromLocal","getItem","map","fromLocal","parse","webSocket","WebSocket","testHandler","onopen","ev","console","log","data","onmessage","send"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,IAAP,MAAiB,mBAAjB;;AAGA,MAAMC,GAAG,GAAG,MAAM;AAEd,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,CAC/B;AACIK,IAAAA,KAAK,EAAE,GADX;AAEIC,IAAAA,MAAM,EAAE,GAFZ;AAGIC,IAAAA,CAAC,EAAE,CAHP;AAIIC,IAAAA,CAAC,EAAE;AAJP,GAD+B,EAO/B;AACIH,IAAAA,KAAK,EAAE,GADX;AAEIC,IAAAA,MAAM,EAAE,GAFZ;AAGIC,IAAAA,CAAC,EAAE,CAHP;AAIIC,IAAAA,CAAC,EAAE;AAJP,GAP+B,CAAD,CAAlC;;AAeA,QAAMC,QAAQ,GAAIC,KAAD,IAAY,iBAAgBA,KAAM,EAAnD;;AACA,QAAMC,WAAW,GAAG,CAACD,KAAD,EAAQE,IAAR,KAChBC,YAAY,CAACC,OAAb,CAAqBL,QAAQ,CAACC,KAAD,CAA7B,EAAsCK,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAtC,CADJ;;AAGA,QAAMK,YAAY,GAAIP,KAAD,IAAWG,YAAY,CAACK,OAAb,CAAqBT,QAAQ,CAACC,KAAD,CAA7B,CAAhC,CArBc,CAuBd;AACA;;;AAGAX,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,QAAQ,CAACD,KAAK,CAACgB,GAAN,CAAU,CAACP,IAAD,EAAOF,KAAP,KAAiB;AAChC,YAAMU,SAAS,GAAGH,YAAY,CAACP,KAAD,CAA9B;AACA,UAAIU,SAAJ,EACI,OAAO,EAAC,GAAGL,IAAI,CAACM,KAAL,CAAWD,SAAX;AAAJ,OAAP,CADJ,KAGI,OAAOR,IAAP;AACP,KANQ,CAAD,CAAR;AAOH,GARQ,EAQN,EARM,CAAT;AAUA,QAAMU,SAAS,GAAG,IAAIC,SAAJ,CAAc,qBAAd,CAAlB;;AAEA,QAAMC,WAAW,GAAG,MAAM;AACtBF,IAAAA,SAAS,CAACG,MAAV,GAAoBC,EAAD,IAAQ;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBF,EAAE,CAACG,IAAtB;AACH,KAFD;;AAGAP,IAAAA,SAAS,CAACQ,SAAV,GAAuBJ,EAAD,IAAQ;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBF,EAAE,CAACG,IAAzB;AACH,KAFD;AAGH,GAPD;;AASA,QAAME,IAAI,GAAG,MAAO;AAChBT,IAAAA,SAAS,CAACS,IAAV,CAAe,aAAf;AACH,GAFD;;AAIA,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,SAAS,EAAC,mBAAlB;AACQ,IAAA,OAAO,EAAEP,WADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII;AAAQ,IAAA,SAAS,EAAC,mBAAlB;AACQ,IAAA,OAAO,EAAEO,IADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,CAFJ,CAUI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBJ;AA2BH,CA/ED;;AAkFA,eAAe7B,GAAf","sourcesContent":["import React, {useEffect, useState} from \"react\"\nimport Note from \"./components/Note\";\n\n\nconst App = () => {\n\n    const [state, setState] = useState([\n        {\n            width: 200,\n            height: 200,\n            x: 0,\n            y: 0\n        },\n        {\n            width: 200,\n            height: 200,\n            x: 0,\n            y: 0\n        }\n    ]);\n\n    const localKey = (index) => `position-note-${index}`;\n    const saveInLocal = (index, note) =>\n        localStorage.setItem(localKey(index), JSON.stringify(note))\n\n    const getFromLocal = (index) => localStorage.getItem(localKey(index))\n\n    // const removeInLocal = (index) =>\n    //     localStorage.removeItem(localKey(index))\n\n\n    useEffect(() => {\n        setState(state.map((note, index) => {\n            const fromLocal = getFromLocal(index);\n            if (fromLocal)\n                return {...JSON.parse(fromLocal)}\n            else\n                return note\n        }))\n    }, [])\n\n    const webSocket = new WebSocket('ws://localhost:8080');\n\n    const testHandler = () => {\n        webSocket.onopen = (ev) => {\n            console.log('open',ev.data);\n        }\n        webSocket.onmessage = (ev) => {\n            console.log(\"message\",ev.data);\n        }\n    }\n\n    const send = ( ) => {\n        webSocket.send(\"Some string\")\n    }\n\n    return (\n\n        <div>\n            <button className=\"btn btn-secondary\"\n                    onClick={testHandler}\n            >Click me</button>\n            <button className=\"btn btn-secondary\"\n                    onClick={send}\n            >Click me</button>\n        </div>\n        // <div style={{backgroundColor: \"aqua\", width: \"100vw\", height: '100vh'}}>\n        //     {\n        //         state.map((note, index) => {\n        //                 return (\n        //                     <Note key={index}\n        //                           index={index}\n        //                           state={state}\n        //                           setState={setState}\n        //                           saveInLocal={saveInLocal}\n        //                           getFromLocal={getFromLocal}\n        //                     />\n        //                 )\n        //             }\n        //         )\n        //     }\n        // </div>\n    )\n}\n\n\nexport default App"]},"metadata":{},"sourceType":"module"}