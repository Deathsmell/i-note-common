{"ast":null,"code":"import _slicedToArray from\"/home/deathsmell/WebstormProjects/i-note-common/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Note from\"./components/Note\";import useWS from\"./hooks/ws.hook\";import useNote from\"./hooks/note.hook\";import{TypeMessage}from\"./hooks/TypeMessage\";var App=function App(){var _useNote=useNote(),defaultNote=_useNote.defaultNote,updateNote=_useNote.updateNote;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),focus=_useState4[0],setFocus=_useState4[1];var _useWS=useWS(notes,setNotes),connection=_useWS.connection;var createHandler=function createHandler(e){if(!focus){var newNote=updateNote(defaultNote,{x:e.clientX,y:e.clientY,type:TypeMessage.CREATE});connection.send(JSON.stringify(newNote));}};return/*#__PURE__*/React.createElement(\"div\",{className:\"workspace\",onDoubleClick:createHandler},notes&&notes.map(function(note,index){return/*#__PURE__*/React.createElement(Note,{key:note.id,noteIndex:index,note:note,notes:notes,focus:focus,setFocus:setFocus,setNotes:setNotes,connection:connection,color:note.color});}));};export default App;","map":{"version":3,"sources":["/home/deathsmell/WebstormProjects/i-note-common/src/App.js"],"names":["React","useState","Note","useWS","useNote","TypeMessage","App","defaultNote","updateNote","notes","setNotes","focus","setFocus","connection","createHandler","e","newNote","x","clientX","y","clientY","type","CREATE","send","JSON","stringify","map","note","index","id","color"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,OAAQC,WAAR,KAA0B,qBAA1B,CAGA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,cAEoBF,OAAO,EAF3B,CAEPG,WAFO,UAEPA,WAFO,CAEMC,UAFN,UAEMA,UAFN,eAGYP,QAAQ,CAAC,EAAD,CAHpB,wCAGPQ,KAHO,eAGAC,QAHA,8BAIYT,QAAQ,CAAC,KAAD,CAJpB,yCAIPU,KAJO,eAIAC,QAJA,0BAMOT,KAAK,CAACM,KAAD,CAAQC,QAAR,CANZ,CAMPG,UANO,QAMPA,UANO,CAQd,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CACzB,GAAI,CAACJ,KAAL,CAAY,CACR,GAAMK,CAAAA,OAAO,CAAGR,UAAU,CAACD,WAAD,CAAc,CAACU,CAAC,CAAEF,CAAC,CAACG,OAAN,CAAeC,CAAC,CAAEJ,CAAC,CAACK,OAApB,CAA6BC,IAAI,CAAEhB,WAAW,CAACiB,MAA/C,CAAd,CAA1B,CACAT,UAAU,CAACU,IAAX,CAAgBC,IAAI,CAACC,SAAL,CAAeT,OAAf,CAAhB,EACH,CACJ,CALD,CAOA,mBACI,2BAAK,SAAS,CAAC,WAAf,CACK,aAAa,CAAEF,aADpB,EAIQL,KAAK,EACLA,KAAK,CAACiB,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACnB,mBACI,oBAAC,IAAD,EAAM,GAAG,CAAED,IAAI,CAACE,EAAhB,CACM,SAAS,CAAED,KADjB,CAEM,IAAI,CAAED,IAFZ,CAGM,KAAK,CAAElB,KAHb,CAIM,KAAK,CAAEE,KAJb,CAKM,QAAQ,CAAEC,QALhB,CAMM,QAAQ,CAAEF,QANhB,CAOM,UAAU,CAAEG,UAPlB,CAQM,KAAK,CAAEc,IAAI,CAACG,KARlB,EADJ,CAYH,CAbL,CALR,CADJ,CAwBH,CAvCD,CA0CA,cAAexB,CAAAA,GAAf","sourcesContent":["import React, {useState} from \"react\"\nimport Note from \"./components/Note\";\nimport useWS from \"./hooks/ws.hook\";\nimport useNote from \"./hooks/note.hook\";\nimport {TypeMessage} from \"./hooks/TypeMessage\";\n\n\nconst App = () => {\n\n    const {defaultNote, updateNote} = useNote();\n    const [notes, setNotes] = useState([]);\n    const [focus, setFocus] = useState(false);\n\n    const {connection} = useWS(notes, setNotes);\n\n    const createHandler = (e) => {\n        if (!focus) {\n            const newNote = updateNote(defaultNote, {x: e.clientX, y: e.clientY, type: TypeMessage.CREATE});\n            connection.send(JSON.stringify(newNote))\n        }\n    }\n\n    return (\n        <div className=\"workspace\"\n             onDoubleClick={createHandler}\n        >\n            {\n                notes &&\n                notes.map((note, index) => {\n                        return (\n                            <Note key={note.id}\n                                  noteIndex={index}\n                                  note={note}\n                                  notes={notes}\n                                  focus={focus}\n                                  setFocus={setFocus}\n                                  setNotes={setNotes}\n                                  connection={connection}\n                                  color={note.color}\n                            />\n                        )\n                    }\n                )\n            }\n        </div>\n    )\n}\n\n\nexport default App"]},"metadata":{},"sourceType":"module"}